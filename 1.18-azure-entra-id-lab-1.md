
# 🔹 Lab: Azure User Access Journey in Portal (GUI)

---

## **Step 1: Create a New User**

1. Sign in to [Azure Portal](https://portal.azure.com) with your **admin account**.
2. Navigate to: **Microsoft Entra ID → Users → New user → Create new user**.

   * User name: `labuser01@<yourtenant>.onmicrosoft.com`
   * Name: `Lab User 01`
   * Password: Auto-generate (copy this).
3. Click **Create**.

✅ User created.

---

## **Step 2: Login as New User (No Access)**

1. Open **Incognito/InPrivate browser**.
2. Go to [Azure Portal](https://portal.azure.com).
3. Login as `labuser01@<yourtenant>.onmicrosoft.com`.

   * Reset password at first login.
4. Try actions:

   * Go to **Virtual machines** → ❌ “No access”
   * Go to **Virtual networks** → ❌ “No access”
   * Go to **Load balancers** → ❌ “No access”
   * Go to **Resource groups** → ❌ “No access”
   * Go to **Subscriptions** → ❌ “No subscriptions found”

👉 This shows: **new users get no resource access by default**.

---

## **Step 3: Assign an Azure AD Role**

1. Login as **Admin** again.
2. Go to: **Microsoft Entra ID → Users → labuser01 → Assigned roles → Add assignment**.
3. Select a role: e.g., **User Administrator** (Azure AD role).
4. Save.

---

## **Step 4: Test Again with Azure AD Role**

1. Login as `labuser01`.
2. Try adding a new user:

   * Go to **Microsoft Entra ID → Users → New user** → ✅ Now you can add users (because of **User Administrator** role).
3. But try to see resources:

   * **VMs, VNets, Load Balancers, RGs, Subscription** → ❌ Still no access.

👉 This shows: **Azure AD roles only give identity management permissions, not resource access**.

---

## **Step 5: Assign Subscription RBAC Role**

1. Login as **Admin**.
2. Go to: **Subscriptions → Select your subscription → Access control (IAM)**.
3. Click **+ Add role assignment**.

   * Role: **Reader** (view-only) or **Contributor** (manage).
   * Assign access to: `labuser01`.
4. Save.

---

## **Step 6: Test Again with Subscription Role**

1. Login as `labuser01`.
2. Now check resources:

   * **Virtual machines** → ✅ Visible
   * **Virtual networks** → ✅ Visible
   * **Load balancers** → ✅ Visible
   * **Resource groups** → ✅ Visible
   * **Subscriptions** → ✅ Shows subscription

👉 This proves: **Resource access comes only from RBAC (IAM) roles, not Azure AD roles**.

---

## **Step 7: List All Users in GUI**

1. As **Admin**, go to:
   **Microsoft Entra ID → Users**.
2. You will see a list of all users including `labuser01`.

---

✅ **Summary of Learning**

* **No role** → user has zero access.
* **Azure AD role** → can manage users/groups in Entra ID but no subscription resource access.
* **Subscription RBAC role** → user can access Azure resources (VMs, VNets, Load Balancers, RGs, Subscriptions).

---
