
👉 Format:

* Resource group → **`studentname-rg`**
* VNet → **`studentname-vnet1`, `studentname-vnet2`**
* Subnets → **`studentname-subnet1`, `studentname-subnet2`**
* VMs → **`studentname-vm1`, `studentname-vm2`**
* NSG (if needed) → **`studentname-nsg1`, `studentname-nsg2`**

---

# 🧪 Lab: Create Two VNets, Peering, and VMs

### Step 1: Create Resource Group

1. Go to **Azure Portal** → search **Resource groups** → **+ Create**
2. Resource group name: **`studentname-rg`**
3. Region: East US (or your choice)
4. **Review + Create → Create**

---

### Step 2: Create First VNet

1. Go to **Virtual networks → + Create**
2. Basics:

   * Resource group: **`studentname-rg`**
   * Name: **`studentname-vnet1`**
   * Region: East US
3. IP Addresses:

   * Address space: `10.0.0.0/16`
   * Add subnet:

     * Name: **`studentname-subnet1`**
     * Range: `10.0.1.0/24`
4. **Review + Create → Create**

---

### Step 3: Create Second VNet

1. Again → **Virtual networks → + Create**
2. Basics:

   * Resource group: **`studentname-rg`**
   * Name: **`studentname-vnet2`**
   * Region: East US (same region for local peering)
3. IP Addresses:

   * Address space: `10.1.0.0/16`
   * Add subnet:

     * Name: **`studentname-subnet2`**
     * Range: `10.1.1.0/24`
4. **Review + Create → Create**

---

### Step 4: Create Peering Between VNets

1. Open **`studentname-vnet1`** → **Peerings** → **+ Add**
2. Peering link name: **`studentname-vnet1-to-vnet2`**

   * Remote VNet: **`studentname-vnet2`**
   * Remote link name: **`studentname-vnet2-to-vnet1`**
   * Traffic settings: Allow both directions
3. **Add**

🔁 Azure automatically sets up reverse peering.

---

### Step 5: Create VM in VNet1

1. Go to **Virtual machines → + Create**
2. Basics:

   * Resource group: **`studentname-rg`**
   * VM name: **`studentname-vm1`**
   * Image: Ubuntu Server 22.04 LTS
   * Size: Standard\_B1s
   * Username: `azureuser`
   * Password/SSH key: (choose one)
3. Networking:

   * VNet: **`studentname-vnet1`**
   * Subnet: **`studentname-subnet1`**
   * Public IP: Yes
4. **Review + Create → Create**

---

### Step 6: Create VM in VNet2

1. Repeat VM creation steps
2. VM name: **`studentname-vm2`**
3. Networking:

   * VNet: **`studentname-vnet2`**
   * Subnet: **`studentname-subnet2`**
   * Public IP: Yes
4. **Review + Create → Create**

---

### Step 7: Test Connectivity

1. SSH into **VM1** from your local machine:

   ```bash
   ssh azureuser@<PublicIP-of-studentname-vm1>
   ```
2. From inside **VM1**, ping the **private IP** of **VM2**:

   ```bash
   ping 10.1.1.4   # Example private IP of studentname-vm2
   ```

✅ If peering is correct, you’ll get successful replies.

---

## 🎯 Result

* Two VNets created: **`studentname-vnet1`** & **`studentname-vnet2`**
* Peering established: **`studentname-vnet1-to-vnet2`** & **`studentname-vnet2-to-vnet1`**
* Two VMs deployed in different VNets can communicate privately.

---
